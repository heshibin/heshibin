---
title: Go 语言变量
description: 在 Go 编程语言中，数据类型用于声明函数和变量。数据类型的出现是为了把数据分成所需内存大小不同的数据，编程的时候需要用大数据的时候才需要申请大内存，就可以充分利用内存。    
date: 2023-01-31
authors: heshibin
tags: [Go]
---



变量来源于数学，是**计算机语言中能储存计算结果或能表示值抽象概念**。  

变量可以通过变量名访问。  

Go 语言变量名由`字母、数字、下划线`组成，其中首个字符不能为数字。  

声明变量的一般形式是使用 var 关键字：  

```go
var identifier type
```

可以一次声明多个变量：  

```go
var identifier1, identifier2 type
```

```go
package main
import "fmt"
func main() {
    var a string = "Ma Chu"
    fmt.Println(a)

    var b, c int = 1, 2
    fmt.Println(b, c)
}
```

### 变量声明

**第一种，指定变量类型，如果没有初始化，则变量默认为零值**。

```go
var v_name v_type
v_name = value
```

零值就是变量没有做初始化时系统默认设置的值。

```go title="实例"
package main
import "fmt"
func main() {
    // 声明一个变量并初始化
    var a = "Ma Chu"
    fmt.Println(a)

    // 没有初始化就为零值
    var b int
    fmt.Println(b)

    // bool 零值为 false
    var c bool
    fmt.Println(c)
}
```

默认值:  

- 数值类型（包括complex64/128）为 **0**
- 布尔类型为 **false**
- 字符串为 **""**（空字符串）
- 以下几种类型为 **nil**：

```go
var a *int
var a []int
var a map[string] int
var a chan int
var a func(string) int
var a error // error 是接口
```

```go title="实例"
package main

import "fmt"

func main() {
    var i int
    var f float64
    var b bool
    var s string
    fmt.Printf("%v %v %v %q\n", i, f, b, s)
}

// 输出结果 
// 0 0 false ""
```

**第二种，根据值自行判定变量类型。**

```go
var v_name = value
```

```go title="实例"
package main
import "fmt"
func main() {
    var d = true
    fmt.Println(d)
}

// 输出结果 true
```

**第三种，如果变量已经使用 var 声明过了，再使用 `:=` 声明变量，就产生编译错误，格式：**

```go
v_name := value
```

例如：

```go
var intVal int 
intVal :=1 // 这时候会产生编译错误，因为 intVal 已经声明，不需要重新声明
```

直接使用下面的语句即可：  

```go
intVal := 1 // 此时不会产生编译错误，因为有声明新的变量，因为 := 是一个声明语句
```

`intVal := 1` 相等于：

```go
var intVal int 
intVal =1 
```

可以将 `var f string = "Ma Chu"` 简写为 `f := "Ma Chu"`：

```go title="实例"
package main
import "fmt"
func main() {
    f := "Ma Chu" // var f string = "Ma Chu"

    fmt.Println(f)
}

// 输出结果 Ma Chu
```

